{% extends 'base.html.twig' %}

{% block body %}
    <h1>TESTS ! </h1>

    {# Création de variables #}

    {% set name = "Bastien" %}
    <h2>{{ name }}</h2>

    {# Création d'un tableau #}

    {% set colors = ["blue","red","yellow","orange"] %}
    {% for color in colors %}
        <div>Index : {{ loop.index }}</div>
        <div style="background-color: {{ color }}">{{ color }}</div>

        {% if loop.first %}
            <div>Première iteration</div>
            <div>Nombres d'éléments : {{ loop.length }}</div>
        {% endif %}
        {% if loop.last %}
            <div>Dernière iteration</div>

        {% endif %}
    {% endfor %}


    {# Création d'un objet #}

    {% set book = {
        title : "Mon livre",
        year : 2021,
        author : "John Doe"
    } %}

    </br>
    <h2>{{ book.title }}</h2>

    {% for key, val in book %}
        <div> {{ key }} : {{ val }}</div>
    {% endfor %}

    {# Les filtres #}

    <h2>Quelques filtres</h2>
    <div>{{ name|upper }},{{ name|length }} lettres</div>
    <div>{{ colors|length }} couleurs</div>
    <div>Mon tableau : {{ colors|join('-') }}</div>
    <div>{{ "now"|date('Y-m-d') }}</div>

    {# Affichage des variables du controller #}

    <h3>Nom de l'utilisateur : {{ user }}</h3>
    <h3>Nom de l'utilisateur : {{ user|raw }}</h3>
    <h3>Nom de l'utilisateur : {{ user|striptags }}</h3>

    <div>
        Infos de la série :
        <p>{{ serie.title }}</p>
        <p>{{ serie.year }}</p>
    </div>
{% endblock %}

{% block title %}
    {{ parent() }} | Test
{% endblock %}